
<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>StavebnÃ­ kalkulaÄka</title>
	<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <script>
        const DATA = {{ data | tojson }};
    </script>
    <script src="{{ url_for('static', filename='app.js') }}" defer></script>
</head>
<body>

<div id="header" class="header">
	<h3>StavebnÃ­ kalkulaÄka</h3>
    <div id="globalCeny" class="global-ceny">
        NÃ¡kupka: <span id="globalNakupka">0</span>
        URS: <span id="globalURS">0</span>
        Firma: <span id="globalFirma">0</span>
    </div>



	<button onclick="addCelek()">â• PÅ™idat celek</button>
	<button onclick="Object.keys(data.celky).forEach(cid => recalcCelek(cid)); render();">PÅ™epoÄÃ­tej</button>
	<input type="text" id="saveFileName" value="kalkulacka" placeholder="NÃ¡zev souboru" style="width:200px;">
	<button onclick="saveDataServer()">ğŸ’¾ Save JSON</button>
	<!-- NaÄtenÃ­ souboru -->
	<button onclick="document.getElementById('loadFileInput').click()">ğŸ“‚ NaÄÃ­st JSON</button>
	<input type="file" id="loadFileInput" style="display:none" accept=".json" onchange="loadJSON(event)">
	<button onclick="ignoreAll()">Ignorovat vÅ¡e</button>
	<button onclick="includeAll()">ZapoÄÃ­tat vÅ¡e</button>
	<button onclick="collapseAll()">Minimalizuj vÅ¡e</button>
	<button onclick="expandAll()">Maximalizuj vÅ¡e</button>
	<button onclick="toggleMaterials()"
            id="materialsToggleBtn">
        SprÃ¡va materiÃ¡lÅ¯
    </button>
	<span id="ignoredSummary" style="margin-left:50px;"></span>

</div>
<div id="celky"></div>


<section id="material-manager">
<div class="materialy-header">
    <h3>SprÃ¡va materiÃ¡lÅ¯</h3>
    <table id="material-table">
        <thead>
            <tr>
                <th>ID (klÃ­Ä)</th>
                <th>NÃ¡zev</th>
                <th>JednotkovÃ¡ cena</th>
                <th></th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <h4>PÅ™idat novÃ½ materiÃ¡l</h4>
    <input id="newMatId" placeholder="ID (napÅ™. asfalt)" />
    <input id="newMatName" placeholder="NÃ¡zev" />
    <input id="newMatCena" type="number" placeholder="Cena" />
    <button onclick="addMaterial()">PÅ™idat</button>

    <br><br>
    <button onclick="saveMaterials()">ğŸ’¾ UloÅ¾it materiÃ¡ly</button>
</div>	
</section>


</body>
</html>



